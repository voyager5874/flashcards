import { ChangeEvent, useEffect, useState } from 'react';

import { FIRST_ITEM_INDEX } from 'const';
import { useAppDispatch } from 'hooks/AppTypedReduxHooks';
import { appErrorOccurred } from 'store/reducers/app';
import { Nullable } from 'types';

// const errorImageBase64String =
//   'data:image/png;base64,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';

const MAX_IMAGE_SIZE = 1000000;

export const useBase64Picture = () => {
  // eslint-disable-next-line no-debugger
  debugger;
  const dispatch = useAppDispatch();

  const [base64String, setBase64String] = useState<Nullable<string>>(null);
  const [loaderId, setLoaderId] = useState<Nullable<string>>(null);
  const [inputEvent, setInputEvent] =
    useState<Nullable<ChangeEvent<HTMLInputElement>>>(null);

  useEffect(() => {
    if (inputEvent?.target?.name) setLoaderId(inputEvent.target.name);
    if (inputEvent?.target?.files?.length) {
      const targetFile = inputEvent.target.files[FIRST_ITEM_INDEX];
      if (targetFile.size > MAX_IMAGE_SIZE) {
        setBase64String(null);
        dispatch(appErrorOccurred('image size exceeded'));
        return;
      }
      const reader = new FileReader();
      reader.readAsDataURL(targetFile);
      reader.onloadend = () => {
        if (reader.result) {
          setBase64String(String(reader.result));
        } else {
          setBase64String(null);
          dispatch(appErrorOccurred('error converting image to base64'));
        }
      };
      reader.onerror = error => dispatch(appErrorOccurred(error.type));
    } else if (inputEvent !== null) {
      setBase64String(null);
      dispatch(appErrorOccurred('error reading file from disk'));
    }
  }, [inputEvent]);

  return { base64String, setInputEvent, loaderId };
};
